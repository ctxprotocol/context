{
  "meta": {
    "name": "Context App Design System",
    "purpose": "High-level design guidelines and tokens to let AI replicate the app's look and feel.",
    "version": "1.0.0",
    "lastUpdated": "2025-11-13",
    "basedOn": [
      "Tailwind CSS v4 utilities",
      "Radix UI primitives",
      "tailwindcss-animate",
      "@tailwindcss/typography",
      "shadcn/ui patterns"
    ]
  },
  "brand": {
    "voice": [
      "calm",
      "utilitarian",
      "trustworthy",
      "pragmatic",
      "developer-first"
    ],
    "style": [
      "minimalist",
      "neutral",
      "high-contrast on demand",
      "compact density",
      "rounded",
      "accessible focus"
    ],
    "shapeLanguage": {
      "corners": "rounded-md by default; larger containers rounded-lg",
      "edges": "soft and simple; avoid excessive decoration",
      "buttons": "rounded-md; icon buttons are square with subtle rounding"
    }
  },
  "typography": {
    "families": {
      "sans": "var(--font-geist)",
      "mono": "var(--font-geist-mono)"
    },
    "scale": {
      "xs": {
        "fontSize": "0.75rem",
        "lineHeight": "1rem",
        "tracking": "normal"
      },
      "sm": {
        "fontSize": "0.875rem",
        "lineHeight": "1.25rem",
        "tracking": "normal"
      },
      "base": {
        "fontSize": "1rem",
        "lineHeight": "1.5rem",
        "tracking": "normal"
      },
      "lg": {
        "fontSize": "1.125rem",
        "lineHeight": "1.75rem",
        "tracking": "normal"
      },
      "xl": {
        "fontSize": "1.25rem",
        "lineHeight": "1.75rem",
        "tracking": "tight"
      },
      "2xl": {
        "fontSize": "1.5rem",
        "lineHeight": "2rem",
        "tracking": "tight"
      },
      "3xl": {
        "fontSize": "1.875rem",
        "lineHeight": "2.25rem",
        "tracking": "tight"
      }
    },
    "weights": {
      "regular": 400,
      "medium": 500,
      "semibold": 600,
      "bold": 700
    },
    "defaults": {
      "body": { "family": "sans", "size": "base", "weight": "regular" },
      "label": { "family": "sans", "size": "sm", "weight": "medium" },
      "button": { "family": "sans", "size": "sm", "weight": "medium" },
      "title": {
        "family": "sans",
        "size": "2xl",
        "weight": "semibold",
        "tracking": "tight"
      },
      "code": { "family": "mono", "size": "sm", "weight": "regular" }
    },
    "treatments": {
      "tightTitle": "tracking-tight",
      "wideShortcut": "tracking-widest (for key/shortcut hints)"
    }
  },
  "color": {
    "tokens": {
      "light": {
        "background": "hsl(0 0% 100%)",
        "foreground": "hsl(240 10% 3.9%)",
        "card": "hsl(0 0% 100%)",
        "card-foreground": "hsl(240 10% 3.9%)",
        "popover": "hsl(0 0% 100%)",
        "popover-foreground": "hsl(240 10% 3.9%)",
        "primary": "hsl(240 5.9% 10%)",
        "primary-foreground": "hsl(0 0% 98%)",
        "secondary": "hsl(240 4.8% 95.9%)",
        "secondary-foreground": "hsl(240 5.9% 10%)",
        "muted": "hsl(240 4.8% 95.9%)",
        "muted-foreground": "hsl(240 3.8% 46.1%)",
        "accent": "hsl(240 4.8% 95.9%)",
        "accent-foreground": "hsl(240 5.9% 10%)",
        "destructive": "hsl(0 84.2% 60.2%)",
        "destructive-foreground": "hsl(0 0% 98%)",
        "border": "hsl(240 5.9% 90%)",
        "input": "hsl(240 5.9% 90%)",
        "ring": "hsl(240 10% 3.9%)",
        "chart-1": "hsl(12 76% 61%)",
        "chart-2": "hsl(173 58% 39%)",
        "chart-3": "hsl(197 37% 24%)",
        "chart-4": "hsl(43 74% 66%)",
        "chart-5": "hsl(27 87% 67%)",
        "sidebar-background": "hsl(0 0% 98%)",
        "sidebar-foreground": "hsl(240 5.3% 26.1%)",
        "sidebar-primary": "hsl(240 5.9% 10%)",
        "sidebar-primary-foreground": "hsl(0 0% 98%)",
        "sidebar-accent": "hsl(240 4.8% 95.9%)",
        "sidebar-accent-foreground": "hsl(240 5.9% 10%)",
        "sidebar-border": "hsl(220 13% 91%)",
        "sidebar-ring": "hsl(217.2 91.2% 59.8%)"
      },
      "dark": {
        "background": "hsl(240 10% 3.9%)",
        "foreground": "hsl(0 0% 98%)",
        "card": "hsl(240 10% 3.9%)",
        "card-foreground": "hsl(0 0% 98%)",
        "popover": "hsl(240 10% 3.9%)",
        "popover-foreground": "hsl(0 0% 98%)",
        "primary": "hsl(0 0% 98%)",
        "primary-foreground": "hsl(240 5.9% 10%)",
        "secondary": "hsl(240 3.7% 15.9%)",
        "secondary-foreground": "hsl(0 0% 98%)",
        "muted": "hsl(240 3.7% 15.9%)",
        "muted-foreground": "hsl(240 5% 64.9%)",
        "accent": "hsl(240 3.7% 15.9%)",
        "accent-foreground": "hsl(0 0% 98%)",
        "destructive": "hsl(0 62.8% 30.6%)",
        "destructive-foreground": "hsl(0 0% 98%)",
        "border": "hsl(240 3.7% 15.9%)",
        "input": "hsl(240 3.7% 15.9%)",
        "ring": "hsl(240 4.9% 83.9%)",
        "chart-1": "hsl(220 70% 50%)",
        "chart-2": "hsl(160 60% 45%)",
        "chart-3": "hsl(30 80% 55%)",
        "chart-4": "hsl(280 65% 60%)",
        "chart-5": "hsl(340 75% 55%)",
        "sidebar-background": "hsl(240 5.9% 10%)",
        "sidebar-foreground": "hsl(240 4.8% 95.9%)",
        "sidebar-primary": "hsl(224.3 76.3% 48%)",
        "sidebar-primary-foreground": "hsl(0 0% 100%)",
        "sidebar-accent": "hsl(240 3.7% 15.9%)",
        "sidebar-accent-foreground": "hsl(240 4.8% 95.9%)",
        "sidebar-border": "hsl(240 3.7% 15.9%)",
        "sidebar-ring": "hsl(217.2 91.2% 59.8%)"
      }
    },
    "usage": {
      "backgrounds": ["bg-background", "bg-card", "bg-popover", "bg-sidebar"],
      "text": [
        "text-foreground",
        "text-card-foreground",
        "text-popover-foreground",
        "text-muted-foreground",
        "text-sidebar-foreground"
      ],
      "interactive": {
        "primary": [
          "bg-primary",
          "text-primary-foreground",
          "hover:bg-primary/90"
        ],
        "secondary": [
          "bg-secondary",
          "text-secondary-foreground",
          "hover:bg-secondary/80"
        ],
        "accent": ["hover:bg-accent", "hover:text-accent-foreground"],
        "outline": [
          "border-input",
          "bg-background",
          "hover:bg-accent",
          "hover:text-accent-foreground"
        ],
        "destructive": [
          "bg-destructive",
          "text-destructive-foreground",
          "hover:bg-destructive/90"
        ],
        "ringFocus": [
          "focus-visible:ring-2",
          "focus-visible:ring-ring",
          "focus-visible:ring-offset-2",
          "ring-offset-background"
        ]
      },
      "borders": [
        "border",
        "border-border",
        "border-input",
        "border-sidebar-border"
      ],
      "charts": ["text-[--chart-1..5] for data visual encodings"],
      "sidebar": {
        "bg": "bg-sidebar",
        "fg": "text-sidebar-foreground",
        "accent": "bg-sidebar-accent text-sidebar-accent-foreground",
        "primary": "bg-sidebar-primary text-sidebar-primary-foreground",
        "ring": "ring-sidebar-ring"
      }
    }
  },
  "spacing": {
    "scale": {
      "0": "0px",
      "0.5": "0.125rem",
      "1": "0.25rem",
      "1.5": "0.375rem",
      "2": "0.5rem",
      "2.5": "0.625rem",
      "3": "0.75rem",
      "3.5": "0.875rem",
      "4": "1rem",
      "5": "1.25rem",
      "6": "1.5rem",
      "7": "1.75rem",
      "8": "2rem",
      "10": "2.5rem",
      "11": "2.75rem",
      "12": "3rem",
      "14": "3.5rem",
      "16": "4rem",
      "20": "5rem",
      "24": "6rem"
    },
    "defaults": {
      "controlHeight": "h-10 (40px) for inputs/buttons; sm=h-9; lg=h-11",
      "pageGutters": "p-4 to p-6 on containers; card p-6",
      "inlineGap": "gap-2 between icon and label",
      "stackGap": "space-y-2 (compact), space-y-4 (comfortable)"
    }
  },
  "radii": {
    "base": "var(--radius) = 0.5rem",
    "sm": "calc(var(--radius) - 4px)",
    "md": "calc(var(--radius) - 2px)",
    "lg": "var(--radius)",
    "full": "9999px",
    "usage": {
      "inputsButtons": "rounded-md",
      "cardsSurfaces": "rounded-lg",
      "tooltipsMenus": "rounded-md"
    }
  },
  "shadows": {
    "levels": {
      "none": "none",
      "sm": "shadow-sm",
      "md": "shadow-md",
      "lg": "shadow-lg"
    },
    "usage": {
      "cards": "shadow-sm on default cards",
      "floatingPanels": "shadow, sometimes with border for 'floating' variant",
      "menus": "shadow-md on popovers/menus"
    }
  },
  "motion": {
    "durations": {
      "instant": "75ms",
      "fast": "150ms",
      "normal": "200ms",
      "slow": "300ms",
      "drawerOpen": "500ms",
      "drawerClose": "300ms"
    },
    "easing": "ease-linear for layout width transitions; default ease for most others",
    "patterns": [
      "animate-in fade-in-0 zoom-in-95 for menus and tooltips",
      "data-[side=top|right|bottom|left]:slide-in-from-* for directional context",
      "data-[state=closed]:animate-out ... zoom-out-95 for exits"
    ],
    "hover": "Use subtle background and foreground color shifts; no scale transforms on core controls",
    "focus": "Always pair visible focus ring with ring-offset-background"
  },
  "layout": {
    "html": {
      "lang": "en",
      "class": "antialiased",
      "themeHandling": "next-themes with class strategy (`.dark` variant)"
    },
    "page": {
      "background": "bg-background",
      "text": "text-foreground",
      "overflow": "hidden on x-axis to avoid horizontal scroll",
      "grid": "flex and grid primitives; avoid heavy container chrome"
    },
    "sidebar": {
      "width": "16rem desktop, 18rem mobile sheet",
      "collapsedIconWidth": "3rem",
      "variants": ["sidebar", "floating", "inset"],
      "states": ["expanded", "collapsed", "offcanvas (mobile)"],
      "composition": [
        "SidebarProvider wrapper",
        "Sidebar + SidebarInset for main area",
        "Rail and Trigger controls"
      ]
    }
  },
  "a11y": {
    "focus": "Always visible focus; use ring-2 ring-ring ring-offset-2",
    "labels": "Use `Label` with text content and `htmlFor` bound to input",
    "roles": "Rely on semantic elements and Radix primitives; avoid redundant roles",
    "contrast": "Maintain sufficient contrast in both themes; rely on token foreground pairs",
    "keyboard": "All interactive elements keyboard focusable; include Escape to close sheets/menus",
    "motion": "Avoid excessive motion; use subtle opacity/zoom/slide only",
    "tooltips": "Supplemental, not required for comprehension; ensure accessible trigger"
  },
  "iconography": {
    "source": ["Lucide", "custom inline SVGs"],
    "defaultSize": "16px",
    "color": "currentColor",
    "stroke": {
      "width": "1.5â€“2 where applicable",
      "lineJoin": "round"
    },
    "usage": "Icons sit to the left of labels with gap-2; size-4 within controls"
  },
  "components": {
    "Button": {
      "base": [
        "inline-flex items-center justify-center gap-2",
        "whitespace-nowrap rounded-md text-sm font-medium",
        "transition-colors ring-offset-background",
        "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
        "disabled:pointer-events-none disabled:opacity-50",
        "[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0"
      ],
      "variants": {
        "default": "bg-primary text-primary-foreground hover:bg-primary/90",
        "secondary": "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        "outline": "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        "ghost": "hover:bg-accent hover:text-accent-foreground",
        "link": "text-primary underline-offset-4 hover:underline",
        "destructive": "bg-destructive text-destructive-foreground hover:bg-destructive/90"
      },
      "sizes": {
        "sm": "h-9 rounded-md px-3",
        "default": "h-10 px-4 py-2",
        "lg": "h-11 rounded-md px-8",
        "icon": "h-10 w-10"
      },
      "tone": "Calm; avoid loud gradients; rely on token colors"
    },
    "Card": {
      "container": "rounded-lg border bg-card text-card-foreground shadow-sm",
      "header": "flex flex-col space-y-1.5 p-6",
      "title": "text-2xl font-semibold leading-none tracking-tight",
      "description": "text-sm text-muted-foreground",
      "content": "p-6 pt-0",
      "footer": "flex items-center p-6 pt-0"
    },
    "Input": {
      "base": "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base md:text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
      "file": "file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground",
      "density": "compact by default; keep height 40px"
    },
    "Textarea": {
      "base": "flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base md:text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
    },
    "Label": {
      "base": "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
    },
    "Tooltip": {
      "content": "z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      "offset": 4
    },
    "DropdownMenu": {
      "content": "z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      "item": "relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      "label": "px-2 py-1.5 text-sm font-semibold",
      "separator": "-mx-1 my-1 h-px bg-muted"
    },
    "Select": {
      "trigger": "flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      "content": "relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",
      "item": "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50"
    },
    "Sheet": {
      "overlay": "fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      "contentBase": "fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
      "sides": {
        "top": "inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",
        "bottom": "inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",
        "left": "inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",
        "right": "inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"
      },
      "title": "text-lg font-semibold text-foreground",
      "description": "text-sm text-muted-foreground"
    },
    "Sidebar": {
      "providerWrapper": "group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",
      "panel": "text-sidebar-foreground bg-sidebar",
      "desktopContainer": "fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",
      "floatingVariant": "rounded-lg border border-sidebar-border shadow",
      "menuButton": "peer/menu-button flex w-full items-center gap-2 rounded-md p-2 text-left text-sm hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 ring-sidebar-ring data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium",
      "states": ["expanded", "collapsed (icon)", "offcanvas (mobile sheet)"]
    },
    "Separator": {
      "base": "bg-sidebar-border h-px w-full"
    },
    "Skeleton": {
      "base": "animate-pulse bg-foreground/20 rounded-md",
      "textMask": "apply transparent color to text elements; use bg-foreground/20"
    },
    "Toast": {
      "provider": "sonner Toaster at top-center",
      "style": "Follow card/popover tokens for background and border; compact padding"
    }
  },
  "states": {
    "disabled": "opacity-50 pointer-events-none",
    "active": "data-[active=true] toggles accent background and foreground",
    "invalid": "use ring-red where appropriate; keep subtle",
    "hover": "subtle bg-* overlays; no scale transforms",
    "focus": "ring-2 ring-ring ring-offset-2 ring-offset-background"
  },
  "content": {
    "images": "Use neutral, functional illustrations sparingly; prefer inline icons",
    "code": "Monospace Geist Mono for code/editor; subtle selection backgrounds",
    "charts": "Use chart-1..chart-5 tokens; avoid saturated backgrounds"
  },
  "pages": {
    "auth": {
      "tone": "clean and focused",
      "controls": "use Input, Label, Button with default density",
      "layout": "centered column; card or clean surface; minimal chrome"
    },
    "chat": {
      "tone": "workspace-like",
      "layout": "Sidebar on desktop; mobile sheet for navigation; main content in SidebarInset",
      "messages": "cards or soft containers; compact spacing; readable width",
      "composer": "sticky bottom area with Input/Textarea, Attachments, and Send Button"
    }
  },
  "howToReplicate": {
    "theme": "Honor `.dark` class. Use tokens via Tailwind color utilities mapped to CSS variables (e.g., bg-background, text-foreground).",
    "density": "Prefer compact controls (h-10) with text-sm; use gap-2 for icon+label.",
    "focus": "Always include ring-2 ring-ring ring-offset-2 ring-offset-background on focus-visible.",
    "corners": "Use rounded-md for controls; rounded-lg for surfaces.",
    "surfaces": "Compose border + bg-card + shadow-sm for cards and panels.",
    "menus": "Rounded-md, border, bg-popover, shadow-md; use animate-in fade/zoom + slide per side.",
    "sidebar": "Use provided Sidebar components; do not reimplement; width vars set via inline style.",
    "icons": "Size 16; `[&_svg]:size-4` inside controls; color = currentColor.",
    "states": "Disabled => `disabled:pointer-events-none disabled:opacity-50`.",
    "spacing": "p-6 on container bodies; headers space-y-1.5; controls px-3 or px-4."
  },
  "doNot": [
    "Add flashy gradients or brand colors not defined by tokens",
    "Remove visible focus outlines",
    "Use oversized padding on core controls",
    "Introduce inconsistent radii",
    "Override tokens with hardcoded hex values for core roles"
  ]
}
